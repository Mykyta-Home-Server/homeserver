---
title: Introduction
description: Welcome to the Home Server documentation - A comprehensive guide to building a self-hosted media and automation platform
---

import { Card, CardGrid, Aside } from '@astrojs/starlight/components';

Welcome to the **Home Server** documentation! This project is a personal learning journey to build a comprehensive home server with AI-powered natural language automation.

## System Architecture

The entire infrastructure runs through a secure Cloudflare Tunnel with **zero exposed ports** on the home network.

```mermaid
architecture-beta
    group internet(cloud)[Internet]
    group server(server)[Home Server]
    group proxy(server)[Proxy] in server
    group services(server)[Services] in server

    service user(internet)[User] in internet
    service cf(cloud)[Cloudflare] in internet

    service tunnel(server)[cloudflared] in proxy
    service caddy(server)[Caddy] in proxy

    service authelia(server)[Authelia] in services
    service postgres(database)[PostgreSQL] in services
    service redis(database)[Redis] in services
    service ldap(database)[OpenLDAP] in services

    service jellyfin(server)[Jellyfin] in services
    service grafana(server)[Grafana] in services

    user:R --> L:cf
    cf:R --> L:tunnel
    tunnel:R --> L:caddy
    caddy:B --> T:authelia
    caddy:B --> T:jellyfin
    caddy:B --> T:grafana
    authelia:B --> T:postgres
    authelia:B --> T:redis
    authelia:B --> T:ldap
```

## Current Infrastructure

The server currently runs **24 containers** across multiple service categories:

<CardGrid>
  <Card title="Infrastructure" icon="setting">
    Caddy reverse proxy with Cloudflare Tunnel for zero-trust networking
  </Card>
  <Card title="Authentication" icon="shield">
    Authelia SSO with LDAP backend, PostgreSQL, and Redis
  </Card>
  <Card title="Media Stack" icon="star">
    Complete *arr suite: Jellyfin, Sonarr, Radarr, Prowlarr, Jellyseerr, qBittorrent, Bazarr
  </Card>
  <Card title="Monitoring" icon="laptop">
    Grafana, Loki, and Promtail for centralized logging
  </Card>
</CardGrid>

## Media Automation Flow

The complete workflow from requesting content to streaming:

```mermaid
flowchart LR
    subgraph Request
        User([User])
        Jellyseerr[Jellyseerr]
    end

    subgraph Search
        Radarr[Radarr]
        Sonarr[Sonarr]
        Prowlarr[Prowlarr]
    end

    subgraph Download
        qBit[qBittorrent]
        Flare[FlareSolverr]
    end

    subgraph Process
        Import[Import]
        Bazarr[Bazarr]
    end

    subgraph Stream
        Jellyfin[Jellyfin]
        Devices([Devices])
    end

    User --> Jellyseerr
    Jellyseerr --> Radarr
    Jellyseerr --> Sonarr
    Radarr --> Prowlarr
    Sonarr --> Prowlarr
    Radarr --> qBit
    Sonarr --> qBit
    Flare -.-> Prowlarr
    qBit --> Import
    Import --> Bazarr
    Bazarr --> Jellyfin
    Jellyfin --> Devices

    classDef request fill:#dbeafe,stroke:#2563eb,color:#1e40af
    classDef search fill:#fef3c7,stroke:#d97706,color:#92400e
    classDef download fill:#d1fae5,stroke:#059669,color:#065f46
    classDef process fill:#fce7f3,stroke:#db2777,color:#9d174d
    classDef stream fill:#e0e7ff,stroke:#4f46e5,color:#3730a3

    class User,Jellyseerr request
    class Radarr,Sonarr,Prowlarr search
    class qBit,Flare download
    class Import,Bazarr process
    class Jellyfin,Devices stream
```

## Authentication Flow

Single Sign-On across all services using LDAP:

```mermaid
flowchart LR
    subgraph Client
        User([User])
        Browser[Browser]
    end

    subgraph Auth[Auth Layer]
        Caddy[Caddy]
        Authelia[Authelia]
        LDAP[(LDAP)]
    end

    subgraph Backend
        Service[Service]
    end

    User -->|1. Access| Browser
    Browser -->|2. HTTPS| Caddy
    Caddy -->|3. Check| Authelia
    Authelia -->|4. Validate| LDAP
    LDAP -->|5. OK| Authelia
    Authelia -->|6. Session| Caddy
    Caddy -->|7. Forward| Service
    Service -->|8. Response| Browser

    classDef client fill:#dbeafe,stroke:#2563eb,color:#1e40af
    classDef auth fill:#fce7f3,stroke:#db2777,color:#9d174d
    classDef backend fill:#d1fae5,stroke:#059669,color:#065f46

    class User,Browser client
    class Caddy,Authelia,LDAP auth
    class Service backend
```

## Docker Network Architecture

Services are isolated into purpose-specific networks:

```mermaid
flowchart TB
    subgraph proxy[Proxy Network]
        cloudflared[cloudflared]
        Caddy[Caddy]
    end

    subgraph auth[Auth Network]
        Authelia[Authelia]
        PostgreSQL[(PostgreSQL)]
        Redis[(Redis)]
        OpenLDAP[(OpenLDAP)]
    end

    subgraph media[Media Network]
        Jellyfin[Jellyfin]
        Jellyseerr[Jellyseerr]
        Radarr[Radarr]
        Sonarr[Sonarr]
        Prowlarr[Prowlarr]
        qBit[qBittorrent]
        Bazarr[Bazarr]
    end

    subgraph monitoring[Monitoring Network]
        Grafana[Grafana]
        Loki[Loki]
        Promtail[Promtail]
    end

    cloudflared --> Caddy
    Caddy --> Authelia
    Caddy --> Jellyfin
    Caddy --> Grafana
    Authelia --> PostgreSQL
    Authelia --> Redis
    Authelia --> OpenLDAP
    Promtail --> Loki
    Loki --> Grafana

    classDef proxyNet fill:#dbeafe,stroke:#2563eb,color:#1e40af
    classDef authNet fill:#fce7f3,stroke:#db2777,color:#9d174d
    classDef mediaNet fill:#d1fae5,stroke:#059669,color:#065f46
    classDef monitorNet fill:#fed7aa,stroke:#ea580c,color:#9a3412

    class cloudflared,Caddy proxyNet
    class Authelia,PostgreSQL,Redis,OpenLDAP authNet
    class Jellyfin,Jellyseerr,Radarr,Sonarr,Prowlarr,qBit,Bazarr mediaNet
    class Grafana,Loki,Promtail monitorNet
```

## Key Features

<Aside type="tip" title="Security First">
All traffic goes through Cloudflare Tunnel - **zero ports exposed** to the internet. Your home IP is never revealed.
</Aside>

- **Zero exposed ports** - All traffic through Cloudflare Tunnel
- **Single Sign-On** - Authelia with LDAP backend
- **Centralized logging** - Grafana Loki stack
- **Media automation** - Complete *arr stack with automatic subtitles
- **Infrastructure as Code** - Everything version-controlled
- **Hardlinks** - Efficient storage with instant file moves

## Quick Links

<CardGrid>
  <Card title="Quick Reference" icon="document">
    Essential commands and shortcuts for daily operations.
    [View Reference →](/homeserver/reference/quick-reference)
  </Card>
  <Card title="Docker Guide" icon="setting">
    Complete Docker and container management guide.
    [View Guide →](/homeserver/guides/docker)
  </Card>
  <Card title="Adding Services" icon="add-document">
    Step-by-step guide to deploy new services.
    [View Guide →](/homeserver/guides/adding-services)
  </Card>
  <Card title="Monitoring" icon="laptop">
    Logs, metrics, and observability setup.
    [View Guide →](/homeserver/guides/monitoring)
  </Card>
</CardGrid>

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| **OS** | Ubuntu Server 22.04 LTS | Stable, Docker-ready |
| **Containers** | Docker + Compose | Service isolation |
| **Reverse Proxy** | Caddy | Auto-HTTPS, simple config |
| **Tunnel** | Cloudflare Tunnel | Zero-trust networking |
| **Auth** | Authelia + LDAP | SSO across all services |
| **CI/CD** | GitHub Actions | Self-hosted runner |
