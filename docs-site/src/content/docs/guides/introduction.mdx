---
title: Introduction
description: Welcome to the Home Server documentation - A comprehensive guide to building a self-hosted media and automation platform
---

import { Card, CardGrid, Aside } from '@astrojs/starlight/components';

Welcome to the **Home Server** documentation! This project is a personal learning journey to build a comprehensive home server with AI-powered natural language automation.

## System Architecture

The entire infrastructure runs through a secure Cloudflare Tunnel with **zero exposed ports** on the home network.

```mermaid
flowchart TB
    User([üë§ User]) --> CF[‚òÅÔ∏è Cloudflare]
    CF --> CFD[cloudflared]
    CFD --> Caddy[üîí Caddy]

    Caddy --> Auth & Media & Mon

    subgraph Auth["üîê Auth"]
        Authelia[Authelia]
        Authelia --- DB[(PG + Redis)]
        Authelia --- LDAP[(LDAP)]
    end

    subgraph Media["üì∫ Media"]
        JF[Jellyfin]
        Arr[Sonarr/Radarr]
        QB[qBittorrent]
        JF --- Arr --- QB
    end

    subgraph Mon["üìä Monitor"]
        Grafana[Grafana]
        Loki[Loki]
        Grafana --- Loki
    end

    style CF fill:#f6821f,color:#fff
    style Caddy fill:#00a86b,color:#fff
    style Authelia fill:#1a73e8,color:#fff
    style JF fill:#00a4dc,color:#fff
    style Grafana fill:#f46800,color:#fff
```

## Current Infrastructure

The server currently runs **24 containers** across multiple service categories:

<CardGrid>
  <Card title="Infrastructure" icon="setting">
    Caddy reverse proxy with Cloudflare Tunnel for zero-trust networking
  </Card>
  <Card title="Authentication" icon="shield">
    Authelia SSO with LDAP backend, PostgreSQL, and Redis
  </Card>
  <Card title="Media Stack" icon="star">
    Complete *arr suite: Jellyfin, Sonarr, Radarr, Prowlarr, Jellyseerr, qBittorrent, Bazarr
  </Card>
  <Card title="Monitoring" icon="laptop">
    Grafana, Loki, and Promtail for centralized logging
  </Card>
</CardGrid>

## Media Automation Flow

The complete workflow from requesting content to streaming:

```mermaid
flowchart TB
    User([üë§ User]) -->|Request| JS[Jellyseerr]

    JS --> Radarr & Sonarr

    subgraph Manage["üìã *arr Stack"]
        Radarr[üé• Radarr]
        Sonarr[üì∫ Sonarr]
        Prowlarr[üîç Prowlarr]
        Radarr & Sonarr --> Prowlarr
        Prowlarr --> Indexers[(Indexers)]
    end

    Radarr & Sonarr -->|Send| QB[‚¨áÔ∏è qBittorrent]

    QB -->|Done| Process

    subgraph Process["‚öôÔ∏è Process"]
        Import[Import/Rename]
        Bazarr[üí¨ Subtitles]
        Import --> Bazarr
    end

    Process --> JF[üì∫ Jellyfin] --> Devices([üì±üíªüì∫])

    style JS fill:#1a73e8,color:#fff
    style JF fill:#00a4dc,color:#fff
    style QB fill:#2e7d32,color:#fff
```

## Authentication Flow

Single Sign-On across all services using LDAP:

```mermaid
sequenceDiagram
    participant U as User
    participant C as Caddy
    participant A as Authelia
    participant S as Service

    U->>C: Request
    C->>A: Auth Check
    alt Not Logged In
        A-->>U: Login Page
        U->>A: Credentials
        A->>A: LDAP Verify
        A-->>U: Session Cookie
    end
    C->>A: Verify
    A-->>C: OK + Headers
    C->>S: Forward
    S-->>U: Response
```

## Docker Network Architecture

Services are isolated into purpose-specific networks:

```mermaid
flowchart LR
    subgraph proxy["üåê proxy"]
        Caddy[Caddy] --- CFD[cloudflared]
    end

    subgraph auth["üîê auth"]
        Auth[Authelia] --- DB[(PG/Redis/LDAP)]
    end

    subgraph media["üì∫ media"]
        JF[Jellyfin] --- Arr[*arr suite] --- QB[qBit]
    end

    subgraph mon["üìä monitor"]
        Graf[Grafana] --- Loki[Loki]
    end

    Caddy --> auth & media & mon

    style proxy fill:#e3f2fd
    style auth fill:#fce4ec
    style media fill:#e8f5e9
    style mon fill:#fff3e0
```

## Key Features

<Aside type="tip" title="Security First">
All traffic goes through Cloudflare Tunnel - **zero ports exposed** to the internet. Your home IP is never revealed.
</Aside>

- **Zero exposed ports** - All traffic through Cloudflare Tunnel
- **Single Sign-On** - Authelia with LDAP backend
- **Centralized logging** - Grafana Loki stack
- **Media automation** - Complete *arr stack with automatic subtitles
- **Infrastructure as Code** - Everything version-controlled
- **Hardlinks** - Efficient storage with instant file moves

## Quick Links

<CardGrid>
  <Card title="Quick Reference" icon="document">
    Essential commands and shortcuts for daily operations.
    [View Reference ‚Üí](/homeserver/reference/quick-reference)
  </Card>
  <Card title="Docker Guide" icon="setting">
    Complete Docker and container management guide.
    [View Guide ‚Üí](/homeserver/guides/docker)
  </Card>
  <Card title="Adding Services" icon="add-document">
    Step-by-step guide to deploy new services.
    [View Guide ‚Üí](/homeserver/guides/adding-services)
  </Card>
  <Card title="Monitoring" icon="laptop">
    Logs, metrics, and observability setup.
    [View Guide ‚Üí](/homeserver/guides/monitoring)
  </Card>
</CardGrid>

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| **OS** | Ubuntu Server 22.04 LTS | Stable, Docker-ready |
| **Containers** | Docker + Compose | Service isolation |
| **Reverse Proxy** | Caddy | Auto-HTTPS, simple config |
| **Tunnel** | Cloudflare Tunnel | Zero-trust networking |
| **Auth** | Authelia + LDAP | SSO across all services |
| **CI/CD** | GitHub Actions | Self-hosted runner |
