---
title: Introduction
description: Welcome to the Home Server documentation - A comprehensive guide to building a self-hosted media and automation platform
---

import { Card, CardGrid, Aside } from '@astrojs/starlight/components';

Welcome to the **Home Server** documentation! This project is a personal learning journey to build a comprehensive home server with AI-powered natural language automation.

## System Architecture

The entire infrastructure runs through a secure Cloudflare Tunnel with **zero exposed ports** on the home network.

```mermaid
architecture-beta
    group internet(cloud)[Internet]
    group server(server)[Home Server]
    group proxy(server)[Proxy] in server
    group services(server)[Services] in server

    service user(internet)[User] in internet
    service cf(cloud)[Cloudflare] in internet

    service tunnel(server)[cloudflared] in proxy
    service caddy(server)[Caddy] in proxy

    service authelia(server)[Authelia] in services
    service postgres(database)[PostgreSQL] in services
    service redis(database)[Redis] in services
    service ldap(database)[OpenLDAP] in services

    service jellyfin(server)[Jellyfin] in services
    service grafana(server)[Grafana] in services

    user:R --> L:cf
    cf:R --> L:tunnel
    tunnel:R --> L:caddy
    caddy:B --> T:authelia
    caddy:B --> T:jellyfin
    caddy:B --> T:grafana
    authelia:B --> T:postgres
    authelia:B --> T:redis
    authelia:B --> T:ldap
```

## Current Infrastructure

The server currently runs **24 containers** across multiple service categories:

<CardGrid>
  <Card title="Infrastructure" icon="setting">
    Caddy reverse proxy with Cloudflare Tunnel for zero-trust networking
  </Card>
  <Card title="Authentication" icon="shield">
    Authelia SSO with LDAP backend, PostgreSQL, and Redis
  </Card>
  <Card title="Media Stack" icon="star">
    Complete *arr suite: Jellyfin, Sonarr, Radarr, Prowlarr, Jellyseerr, qBittorrent, Bazarr
  </Card>
  <Card title="Monitoring" icon="laptop">
    Grafana, Loki, and Promtail for centralized logging
  </Card>
</CardGrid>

## Media Automation Flow

The complete workflow from requesting content to streaming:

```mermaid
flowchart TB
    User([User])
    Jellyseerr[Jellyseerr]
    Radarr[Radarr]

    Sonarr[Sonarr]
    Prowlarr[Prowlarr]
    qBit[qBittorrent]

    FlareSolverr[FlareSolverr]
    Bazarr[Bazarr]
    Jellyfin[Jellyfin]

    User -->|Request| Jellyseerr
    Jellyseerr --> Radarr
    Jellyseerr --> Sonarr
    Radarr -->|Search| Prowlarr
    Sonarr -->|Search| Prowlarr
    Radarr -->|Download| qBit
    Sonarr -->|Download| qBit
    FlareSolverr -.->|Bypass CF| Prowlarr
    qBit -->|Import| Bazarr
    Bazarr -->|Add Subs| Jellyfin
    Jellyfin -->|Stream| User

    classDef request fill:#dbeafe,stroke:#2563eb,color:#1e40af
    classDef search fill:#fef3c7,stroke:#d97706,color:#92400e
    classDef download fill:#d1fae5,stroke:#059669,color:#065f46
    classDef subtitle fill:#fce7f3,stroke:#db2777,color:#9d174d
    classDef stream fill:#e0e7ff,stroke:#4f46e5,color:#3730a3

    class User,Jellyseerr request
    class Radarr,Sonarr,Prowlarr,FlareSolverr search
    class qBit download
    class Bazarr subtitle
    class Jellyfin stream
```

## Authentication Flow

Single Sign-On across all services using LDAP:

```mermaid
flowchart TB
    User([User])
    Caddy[Caddy Proxy]

    Authelia[Authelia SSO]
    LDAP[(OpenLDAP)]

    Service[Protected Service]

    User -->|1. Request| Caddy
    Caddy -->|2. Check Auth| Authelia
    Authelia -->|3. Verify| LDAP
    LDAP -->|4. Credentials OK| Authelia
    Authelia -->|5. Grant Session| Caddy
    Caddy -->|6. Forward| Service

    classDef client fill:#dbeafe,stroke:#2563eb,color:#1e40af
    classDef auth fill:#fce7f3,stroke:#db2777,color:#9d174d
    classDef backend fill:#d1fae5,stroke:#059669,color:#065f46

    class User client
    class Caddy,Authelia,LDAP auth
    class Service backend
```

## Docker Network Architecture

Services are isolated into purpose-specific networks:

```mermaid
flowchart TB
    subgraph proxy[Proxy Network]
        CF[Cloudflared<br/>Tunnel]
        Caddy[Caddy<br/>Reverse Proxy]
        CF --> Caddy
    end

    subgraph auth[Auth Network]
        Authelia[Authelia<br/>SSO]
        PG[(PostgreSQL)]
        Redis[(Redis)]
        LDAP[(OpenLDAP)]
        Authelia --- PG
        Authelia --- Redis
        Authelia --- LDAP
    end

    subgraph media[Media Network]
        J[Jellyfin]
        Req[Jellyseerr]
        R[Radarr]
        S[Sonarr]
        P[Prowlarr]
        Q[qBit]
        B[Bazarr]
    end

    subgraph monitoring[Monitoring Network]
        PT[Promtail]
        Loki[Loki]
        Graf[Grafana]
        PT --> Loki
        Loki --> Graf
    end

    Caddy ==>|Routes| auth
    Caddy ==>|Routes| media
    Caddy ==>|Routes| monitoring

    classDef proxyNet fill:#dbeafe,stroke:#2563eb,color:#1e40af
    classDef authNet fill:#fce7f3,stroke:#db2777,color:#9d174d
    classDef mediaNet fill:#d1fae5,stroke:#059669,color:#065f46
    classDef monitorNet fill:#fed7aa,stroke:#ea580c,color:#9a3412

    class CF,Caddy proxyNet
    class Authelia,PG,Redis,LDAP authNet
    class J,Req,R,S,P,Q,B mediaNet
    class PT,Loki,Graf monitorNet
```

## Key Features

<Aside type="tip" title="Security First">
All traffic goes through Cloudflare Tunnel - **zero ports exposed** to the internet. Your home IP is never revealed.
</Aside>

- **Zero exposed ports** - All traffic through Cloudflare Tunnel
- **Single Sign-On** - Authelia with LDAP backend
- **Centralized logging** - Grafana Loki stack
- **Media automation** - Complete *arr stack with automatic subtitles
- **Infrastructure as Code** - Everything version-controlled
- **Hardlinks** - Efficient storage with instant file moves

## Quick Links

<CardGrid>
  <Card title="Quick Reference" icon="document">
    Essential commands and shortcuts for daily operations.
    [View Reference →](/homeserver/reference/quick-reference)
  </Card>
  <Card title="Docker Guide" icon="setting">
    Complete Docker and container management guide.
    [View Guide →](/homeserver/guides/docker)
  </Card>
  <Card title="Adding Services" icon="add-document">
    Step-by-step guide to deploy new services.
    [View Guide →](/homeserver/guides/adding-services)
  </Card>
  <Card title="Monitoring" icon="laptop">
    Logs, metrics, and observability setup.
    [View Guide →](/homeserver/guides/monitoring)
  </Card>
</CardGrid>

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| **OS** | Ubuntu Server 22.04 LTS | Stable, Docker-ready |
| **Containers** | Docker + Compose | Service isolation |
| **Reverse Proxy** | Caddy | Auto-HTTPS, simple config |
| **Tunnel** | Cloudflare Tunnel | Zero-trust networking |
| **Auth** | Authelia + LDAP | SSO across all services |
| **CI/CD** | GitHub Actions | Self-hosted runner |
