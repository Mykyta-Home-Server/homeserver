---
title: Introduction
description: Welcome to the Home Server documentation - A comprehensive guide to building a self-hosted media and automation platform
---

import { Card, CardGrid, Aside } from '@astrojs/starlight/components';

Welcome to the **Home Server** documentation! This project is a personal learning journey to build a comprehensive home server with AI-powered natural language automation.

## System Architecture

The entire infrastructure runs through a secure Cloudflare Tunnel with **zero exposed ports** on the home network.

```mermaid
architecture-beta
    group internet(cloud)[Internet]
    group server(server)[Home Server]
    group proxy(server)[Proxy] in server
    group services(server)[Services] in server

    service user(internet)[User] in internet
    service cf(cloud)[Cloudflare] in internet

    service tunnel(server)[cloudflared] in proxy
    service caddy(server)[Caddy] in proxy

    service authelia(server)[Authelia] in services
    service postgres(database)[PostgreSQL] in services
    service redis(database)[Redis] in services
    service ldap(database)[OpenLDAP] in services

    service jellyfin(server)[Jellyfin] in services
    service grafana(server)[Grafana] in services

    user:R --> L:cf
    cf:R --> L:tunnel
    tunnel:R --> L:caddy
    caddy:B --> T:authelia
    caddy:B --> T:jellyfin
    caddy:B --> T:grafana
    authelia:B --> T:postgres
    authelia:B --> T:redis
    authelia:B --> T:ldap
```

## Current Infrastructure

The server currently runs **24 containers** across multiple service categories:

<CardGrid>
  <Card title="Infrastructure" icon="setting">
    Caddy reverse proxy with Cloudflare Tunnel for zero-trust networking
  </Card>
  <Card title="Authentication" icon="shield">
    Authelia SSO with LDAP backend, PostgreSQL, and Redis
  </Card>
  <Card title="Media Stack" icon="star">
    Complete *arr suite: Jellyfin, Sonarr, Radarr, Prowlarr, Jellyseerr, qBittorrent, Bazarr
  </Card>
  <Card title="Monitoring" icon="laptop">
    Grafana, Loki, and Promtail for centralized logging
  </Card>
</CardGrid>

## Media Automation Flow

The complete workflow from requesting content to streaming:

```mermaid
block-beta
    columns 5

    block:request:1
        columns 1
        r1["User"]
        r2["Jellyseerr"]
    end

    block:search:1
        columns 1
        s1["Radarr"]
        s2["Sonarr"]
        s3["Prowlarr"]
    end

    block:download:1
        columns 1
        d1["qBittorrent"]
        d2["FlareSolverr"]
    end

    block:process:1
        columns 1
        p1["Import"]
        p2["Bazarr"]
    end

    block:stream:1
        columns 1
        st1["Jellyfin"]
        st2["Devices"]
    end

    r1 --> r2
    r2 --> s1
    r2 --> s2
    s1 --> s3
    s2 --> s3
    s1 --> d1
    s2 --> d1
    d2 -.-> s3
    d1 --> p1
    p1 --> p2
    p2 --> st1
    st1 --> st2

    style request fill:#dbeafe,stroke:#2563eb
    style search fill:#fef3c7,stroke:#d97706
    style download fill:#d1fae5,stroke:#059669
    style process fill:#fce7f3,stroke:#db2777
    style stream fill:#e0e7ff,stroke:#4f46e5
```

## Authentication Flow

Single Sign-On across all services using LDAP:

```mermaid
block-beta
    columns 3

    block:user:1
        columns 1
        u1["User"]
        u2["Browser"]
    end

    block:auth:1
        columns 1
        a1["Caddy"]
        a2["Authelia"]
        a3["LDAP"]
    end

    block:backend:1
        columns 1
        b1["Service"]
    end

    u1 -- "1. Access URL" --> u2
    u2 -- "2. HTTPS" --> a1
    a1 -- "3. Auth Check" --> a2
    a2 -- "4. Validate" --> a3
    a3 -- "5. User OK" --> a2
    a2 -- "6. Session" --> a1
    a1 -- "7. Forward" --> b1
    b1 -- "8. Response" --> u2

    style user fill:#dbeafe,stroke:#2563eb
    style auth fill:#fce7f3,stroke:#db2777
    style backend fill:#d1fae5,stroke:#059669
```

## Docker Network Architecture

Services are isolated into purpose-specific networks:

```mermaid
block-beta
    columns 4

    block:proxy:1
        columns 1
        p1["cloudflared"]
        p2["Caddy"]
    end

    block:auth:1
        columns 1
        a1["Authelia"]
        a2[("PostgreSQL")]
        a3[("Redis")]
        a4[("OpenLDAP")]
    end

    block:media:2
        columns 4
        m1["Jellyfin"]
        m2["Jellyseerr"]
        m3["Bazarr"]
        m4["Radarr"]
        m5["Sonarr"]
        m6["Prowlarr"]
        m7["qBittorrent"]
        space
    end

    block:monitoring:1
        columns 1
        mon1["Grafana"]
        mon2["Loki"]
        mon3["Promtail"]
    end

    p1 --> p2
    p2 --> a1
    p2 --> m1
    p2 --> mon1
    a1 --> a2
    a1 --> a3
    a1 --> a4
    mon3 --> mon2
    mon2 --> mon1

    style proxy fill:#dbeafe,stroke:#2563eb
    style auth fill:#fce7f3,stroke:#db2777
    style media fill:#d1fae5,stroke:#059669
    style monitoring fill:#fed7aa,stroke:#ea580c
```

## Key Features

<Aside type="tip" title="Security First">
All traffic goes through Cloudflare Tunnel - **zero ports exposed** to the internet. Your home IP is never revealed.
</Aside>

- **Zero exposed ports** - All traffic through Cloudflare Tunnel
- **Single Sign-On** - Authelia with LDAP backend
- **Centralized logging** - Grafana Loki stack
- **Media automation** - Complete *arr stack with automatic subtitles
- **Infrastructure as Code** - Everything version-controlled
- **Hardlinks** - Efficient storage with instant file moves

## Quick Links

<CardGrid>
  <Card title="Quick Reference" icon="document">
    Essential commands and shortcuts for daily operations.
    [View Reference →](/homeserver/reference/quick-reference)
  </Card>
  <Card title="Docker Guide" icon="setting">
    Complete Docker and container management guide.
    [View Guide →](/homeserver/guides/docker)
  </Card>
  <Card title="Adding Services" icon="add-document">
    Step-by-step guide to deploy new services.
    [View Guide →](/homeserver/guides/adding-services)
  </Card>
  <Card title="Monitoring" icon="laptop">
    Logs, metrics, and observability setup.
    [View Guide →](/homeserver/guides/monitoring)
  </Card>
</CardGrid>

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| **OS** | Ubuntu Server 22.04 LTS | Stable, Docker-ready |
| **Containers** | Docker + Compose | Service isolation |
| **Reverse Proxy** | Caddy | Auto-HTTPS, simple config |
| **Tunnel** | Cloudflare Tunnel | Zero-trust networking |
| **Auth** | Authelia + LDAP | SSO across all services |
| **CI/CD** | GitHub Actions | Self-hosted runner |
