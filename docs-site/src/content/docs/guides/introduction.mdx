---
title: Introduction
description: Welcome to the Home Server documentation - A comprehensive guide to building a self-hosted media and automation platform
---

import { Card, CardGrid, Aside } from '@astrojs/starlight/components';

Welcome to the **Home Server** documentation! This project is a personal learning journey to build a comprehensive home server with AI-powered natural language automation.

## System Architecture

The entire infrastructure runs through a secure Cloudflare Tunnel with **zero exposed ports** on the home network.

```mermaid
architecture-beta
    group internet(cloud)[Internet]
    group server(server)[Home Server]
    group proxy(server)[Proxy] in server
    group services(server)[Services] in server

    service user(internet)[User] in internet
    service cf(cloud)[Cloudflare] in internet

    service tunnel(server)[cloudflared] in proxy
    service caddy(server)[Caddy] in proxy

    service authelia(server)[Authelia] in services
    service postgres(database)[PostgreSQL] in services
    service redis(database)[Redis] in services
    service ldap(database)[OpenLDAP] in services

    service jellyfin(server)[Jellyfin] in services
    service grafana(server)[Grafana] in services

    user:R --> L:cf
    cf:R --> L:tunnel
    tunnel:R --> L:caddy
    caddy:B --> T:authelia
    caddy:B --> T:jellyfin
    caddy:B --> T:grafana
    authelia:B --> T:postgres
    authelia:B --> T:redis
    authelia:B --> T:ldap
```

## Current Infrastructure

The server currently runs **24 containers** across multiple service categories:

<CardGrid>
  <Card title="Infrastructure" icon="setting">
    Caddy reverse proxy with Cloudflare Tunnel for zero-trust networking
  </Card>
  <Card title="Authentication" icon="shield">
    Authelia SSO with LDAP backend, PostgreSQL, and Redis
  </Card>
  <Card title="Media Stack" icon="star">
    Complete *arr suite: Jellyfin, Sonarr, Radarr, Prowlarr, Jellyseerr, qBittorrent, Bazarr
  </Card>
  <Card title="Monitoring" icon="laptop">
    Grafana, Loki, and Promtail for centralized logging
  </Card>
</CardGrid>

## Media Automation Flow

The complete workflow from requesting content to streaming:

```mermaid
flowchart TB
    User@{ shape: circle, label: "User" }
    Jellyseerr@{ shape: rect, label: "Jellyseerr" }
    Radarr@{ shape: rect, label: "Radarr" }

    Sonarr@{ shape: rect, label: "Sonarr" }
    Prowlarr@{ shape: rect, label: "Prowlarr" }
    qBit@{ shape: rect, label: "qBittorrent" }

    Flare@{ shape: hex, label: "FlareSolverr" }
    Bazarr@{ shape: rect, label: "Bazarr" }
    Jellyfin@{ shape: cyl, label: "Jellyfin" }

    User --> Jellyseerr
    Jellyseerr --> Radarr & Sonarr
    Radarr & Sonarr --> Prowlarr
    Radarr & Sonarr --> qBit
    Flare -.-> Prowlarr
    qBit --> Bazarr
    Bazarr --> Jellyfin
    Jellyfin --> User

    classDef userStyle fill:#dbeafe,stroke:#2563eb,stroke-width:2px
    classDef processStyle fill:#fef3c7,stroke:#d97706,stroke-width:2px
    classDef downloadStyle fill:#d1fae5,stroke:#059669,stroke-width:2px
    classDef subtitleStyle fill:#fce7f3,stroke:#db2777,stroke-width:2px
    classDef streamStyle fill:#e0e7ff,stroke:#4f46e5,stroke-width:2px

    class User userStyle
    class Jellyseerr,Radarr,Sonarr,Prowlarr processStyle
    class qBit downloadStyle
    class Bazarr,Flare subtitleStyle
    class Jellyfin streamStyle
```

## Authentication Flow

Single Sign-On across all services using LDAP:

```mermaid
sequenceDiagram
    actor User
    participant Caddy
    participant Authelia
    participant LDAP as OpenLDAP
    participant Service

    User->>Caddy: 1. Request Protected Resource
    Caddy->>Authelia: 2. Verify Session
    Authelia->>LDAP: 3. Validate Credentials
    LDAP-->>Authelia: 4. User + Groups
    Authelia-->>Caddy: 5. Grant Session
    Caddy->>Service: 6. Forward Request
    Service-->>User: 7. Return Content
```

## Docker Network Architecture

Services are isolated into purpose-specific networks:

```mermaid
flowchart TB
    subgraph proxy["`**Proxy Network**`"]
        direction LR
        CF@{ shape: cloud, label: "Cloudflared" }
        Caddy@{ shape: rect, label: "Caddy" }
    end

    subgraph auth["`**Auth Network**`"]
        direction LR
        Authelia@{ shape: rect, label: "Authelia" }
        PG@{ shape: cyl, label: "PostgreSQL" }
        Redis@{ shape: cyl, label: "Redis" }
        LDAP@{ shape: cyl, label: "OpenLDAP" }
    end

    subgraph media["`**Media Network**`"]
        direction LR
        JF@{ shape: cyl, label: "Jellyfin" }
        JS@{ shape: rect, label: "Jellyseerr" }
        RD@{ shape: rect, label: "Radarr" }
        SN@{ shape: rect, label: "Sonarr" }
        PW@{ shape: rect, label: "Prowlarr" }
        QB@{ shape: rect, label: "qBit" }
        BZ@{ shape: rect, label: "Bazarr" }
    end

    subgraph monitor["`**Monitoring Network**`"]
        direction LR
        PT@{ shape: rect, label: "Promtail" }
        Loki@{ shape: cyl, label: "Loki" }
        Graf@{ shape: rect, label: "Grafana" }
    end

    CF --> Caddy
    Caddy ==> auth & media & monitor

    classDef proxyStyle fill:#dbeafe,stroke:#2563eb,stroke-width:2px
    classDef authStyle fill:#fce7f3,stroke:#db2777,stroke-width:2px
    classDef mediaStyle fill:#d1fae5,stroke:#059669,stroke-width:2px
    classDef monitorStyle fill:#fed7aa,stroke:#ea580c,stroke-width:2px

    class CF,Caddy proxyStyle
    class Authelia,PG,Redis,LDAP authStyle
    class JF,JS,RD,SN,PW,QB,BZ mediaStyle
    class PT,Loki,Graf monitorStyle
```

## Key Features

<Aside type="tip" title="Security First">
All traffic goes through Cloudflare Tunnel - **zero ports exposed** to the internet. Your home IP is never revealed.
</Aside>

- **Zero exposed ports** - All traffic through Cloudflare Tunnel
- **Single Sign-On** - Authelia with LDAP backend
- **Centralized logging** - Grafana Loki stack
- **Media automation** - Complete *arr stack with automatic subtitles
- **Infrastructure as Code** - Everything version-controlled
- **Hardlinks** - Efficient storage with instant file moves

## Quick Links

<CardGrid>
  <Card title="Quick Reference" icon="document">
    Essential commands and shortcuts for daily operations.
    [View Reference →](/homeserver/reference/quick-reference)
  </Card>
  <Card title="Docker Guide" icon="setting">
    Complete Docker and container management guide.
    [View Guide →](/homeserver/guides/docker)
  </Card>
  <Card title="Adding Services" icon="add-document">
    Step-by-step guide to deploy new services.
    [View Guide →](/homeserver/guides/adding-services)
  </Card>
  <Card title="Monitoring" icon="laptop">
    Logs, metrics, and observability setup.
    [View Guide →](/homeserver/guides/monitoring)
  </Card>
</CardGrid>

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| **OS** | Ubuntu Server 22.04 LTS | Stable, Docker-ready |
| **Containers** | Docker + Compose | Service isolation |
| **Reverse Proxy** | Caddy | Auto-HTTPS, simple config |
| **Tunnel** | Cloudflare Tunnel | Zero-trust networking |
| **Auth** | Authelia + LDAP | SSO across all services |
| **CI/CD** | GitHub Actions | Self-hosted runner |
