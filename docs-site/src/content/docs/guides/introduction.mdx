---
title: Introduction
description: Welcome to the Home Server documentation - A comprehensive guide to building a self-hosted media and automation platform
---

import { Card, CardGrid, Aside } from '@astrojs/starlight/components';

Welcome to the **Home Server** documentation! This project is a personal learning journey to build a comprehensive home server with AI-powered natural language automation.

## System Architecture

The entire infrastructure runs through a secure Cloudflare Tunnel with **zero exposed ports** on the home network.

```mermaid
flowchart LR
    subgraph Internet["‚òÅÔ∏è Internet"]
        User([üë§ User])
        CF[Cloudflare<br/>DNS + DDoS]
    end

    subgraph Server["üè† Home Server"]
        subgraph Proxy["üåê Proxy"]
            CFD[cloudflared]
            Caddy[üîí Caddy]
        end

        subgraph Services["üì¶ Services"]
            subgraph Auth["üîê Auth"]
                Authelia[Authelia SSO]
                PG[(PostgreSQL)]
                Redis[(Redis)]
                LDAP[(OpenLDAP)]
            end

            subgraph Media["üì∫ Media"]
                JF[Jellyfin]
                JS[Jellyseerr]
                Sonarr[Sonarr]
                Radarr[Radarr]
                Prowlarr[Prowlarr]
                QB[qBittorrent]
                Bazarr[Bazarr]
            end

            subgraph Mon["üìä Monitoring"]
                Grafana[Grafana]
                Loki[Loki]
                Promtail[Promtail]
            end
        end
    end

    User --> CF --> CFD --> Caddy
    Caddy --> Authelia & JF & Grafana
    Authelia --> PG & Redis & LDAP

    style CF fill:#f6821f,color:#fff
    style Caddy fill:#00a86b,color:#fff
    style Authelia fill:#1a73e8,color:#fff
    style JF fill:#00a4dc,color:#fff
    style Grafana fill:#f46800,color:#fff
```

## Current Infrastructure

The server currently runs **24 containers** across multiple service categories:

<CardGrid>
  <Card title="Infrastructure" icon="setting">
    Caddy reverse proxy with Cloudflare Tunnel for zero-trust networking
  </Card>
  <Card title="Authentication" icon="shield">
    Authelia SSO with LDAP backend, PostgreSQL, and Redis
  </Card>
  <Card title="Media Stack" icon="star">
    Complete *arr suite: Jellyfin, Sonarr, Radarr, Prowlarr, Jellyseerr, qBittorrent, Bazarr
  </Card>
  <Card title="Monitoring" icon="laptop">
    Grafana, Loki, and Promtail for centralized logging
  </Card>
</CardGrid>

## Media Automation Flow

The complete workflow from requesting content to streaming:

```mermaid
flowchart LR
    subgraph Request["üì± Request"]
        User([üë§ User])
        JS[üé¨ Jellyseerr]
        User -->|Request| JS
    end

    subgraph Search["üîç Search & Manage"]
        Radarr[üé• Radarr]
        Sonarr[üì∫ Sonarr]
        Prowlarr[üîç Prowlarr]
        Indexers[(Indexers)]
        Radarr & Sonarr --> Prowlarr --> Indexers
    end

    subgraph Download["‚¨áÔ∏è Download"]
        QB[qBittorrent]
        FS[FlareSolverr]
    end

    subgraph Process["‚öôÔ∏è Process"]
        Import[Import & Rename]
        Bazarr[üí¨ Bazarr<br/>Subtitles]
    end

    subgraph Stream["üì∫ Stream"]
        JF[Jellyfin]
        Devices([üì±üíªüì∫])
    end

    JS -->|Movie| Radarr
    JS -->|TV Show| Sonarr
    Radarr & Sonarr --> QB
    FS -.-> Prowlarr
    QB --> Import --> Bazarr --> JF --> Devices

    style JS fill:#1a73e8,color:#fff
    style JF fill:#00a4dc,color:#fff
    style QB fill:#2e7d32,color:#fff
```

## Authentication Flow

Single Sign-On across all services using LDAP:

```mermaid
sequenceDiagram
    participant User as üë§ User
    participant Browser as üåê Browser
    participant Caddy as üîí Caddy
    participant Authelia as üõ°Ô∏è Authelia
    participant LDAP as üìÅ LDAP
    participant Service as üì∫ Service

    User->>Browser: Access service.domain.com
    Browser->>Caddy: HTTPS Request
    Caddy->>Authelia: Forward Auth Check

    alt Not Authenticated
        Authelia-->>Browser: Redirect to Login
        User->>Authelia: Enter Credentials
        Authelia->>LDAP: Validate User
        LDAP-->>Authelia: User Valid
        Authelia-->>Browser: Set Session Cookie
        Browser->>Caddy: Retry with Cookie
    end

    Caddy->>Authelia: Verify Session
    Authelia-->>Caddy: Session Valid + Headers
    Caddy->>Service: Forward Request + Auth Headers
    Service-->>Browser: Response
```

## Docker Network Architecture

Services are isolated into purpose-specific networks:

```mermaid
flowchart TB
    subgraph proxy["üåê proxy network"]
        direction LR
        Caddy[Caddy]
        CFD[cloudflared]
        Caddy --- CFD
    end

    subgraph auth["üîê auth network"]
        direction LR
        Authelia[Authelia]
        PG[(PostgreSQL)]
        Redis[(Redis)]
        LDAP[(OpenLDAP)]
        Authelia --- PG & Redis & LDAP
    end

    subgraph media["üì∫ media network"]
        direction LR
        JF[Jellyfin]
        JS[Jellyseerr]
        Radarr[Radarr]
        Sonarr[Sonarr]
        Prowlarr[Prowlarr]
        QB[qBittorrent]
        Bazarr[Bazarr]
        JS --- JF
        Radarr & Sonarr --- Prowlarr
        Radarr & Sonarr --- QB
        Bazarr --- Radarr & Sonarr
    end

    subgraph monitoring["üìä monitoring network"]
        direction LR
        Grafana[Grafana]
        Loki[Loki]
        Promtail[Promtail]
        Promtail --- Loki --- Grafana
    end

    Caddy --> Authelia & JF & Grafana & Radarr

    style proxy fill:#e3f2fd
    style auth fill:#fce4ec
    style media fill:#e8f5e9
    style monitoring fill:#fff3e0
```

## Key Features

<Aside type="tip" title="Security First">
All traffic goes through Cloudflare Tunnel - **zero ports exposed** to the internet. Your home IP is never revealed.
</Aside>

- **Zero exposed ports** - All traffic through Cloudflare Tunnel
- **Single Sign-On** - Authelia with LDAP backend
- **Centralized logging** - Grafana Loki stack
- **Media automation** - Complete *arr stack with automatic subtitles
- **Infrastructure as Code** - Everything version-controlled
- **Hardlinks** - Efficient storage with instant file moves

## Quick Links

<CardGrid>
  <Card title="Quick Reference" icon="document">
    Essential commands and shortcuts for daily operations.
    [View Reference ‚Üí](/homeserver/reference/quick-reference)
  </Card>
  <Card title="Docker Guide" icon="setting">
    Complete Docker and container management guide.
    [View Guide ‚Üí](/homeserver/guides/docker)
  </Card>
  <Card title="Adding Services" icon="add-document">
    Step-by-step guide to deploy new services.
    [View Guide ‚Üí](/homeserver/guides/adding-services)
  </Card>
  <Card title="Monitoring" icon="laptop">
    Logs, metrics, and observability setup.
    [View Guide ‚Üí](/homeserver/guides/monitoring)
  </Card>
</CardGrid>

## Technology Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| **OS** | Ubuntu Server 22.04 LTS | Stable, Docker-ready |
| **Containers** | Docker + Compose | Service isolation |
| **Reverse Proxy** | Caddy | Auto-HTTPS, simple config |
| **Tunnel** | Cloudflare Tunnel | Zero-trust networking |
| **Auth** | Authelia + LDAP | SSO across all services |
| **CI/CD** | GitHub Actions | Self-hosted runner |
